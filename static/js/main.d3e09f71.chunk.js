(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{150:function(e,t,c){},289:function(e,t){},290:function(e,t){},342:function(e,t,c){},344:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(142),a=c.n(s),i=(c(150),c(82)),r=c(80),l=c.n(r),d=c(143),o=c(27),j=c(81),u=c.p+"static/media/good_beep.1eda3a39.mp3",b=c.p+"static/media/error_beep.ea0f5342.mp3",h=c(144),f=c.n(h),O=c(145),m=c.n(O),x=(c(303),c(342),c(0)),N=new m.a({apiKey:"keyDtUz0w9A2YkaPl"}).base("appLIkbpURZaoR4qA");var v=function(){var e,t,c=Object(n.useState)("canceled"),s=Object(o.a)(c,2),a=s[0],r=s[1],h=Object(n.useState)({}),O=Object(o.a)(h,2),m=O[0],v=O[1],p=Object(j.a)(u),C=Object(o.a)(p,1)[0],k=Object(j.a)(b),g=Object(o.a)(k,1)[0],y=Object(n.useState)(),S=Object(o.a)(y,2),w=S[0],E=S[1],R=Object(n.useState)(!1),I=Object(o.a)(R,2),L=I[0],D=I[1],F=Object(n.useRef)(null),A=[];for(var U in m)A.push(U);return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},N("Table 1").select().eachPage((function(e,c){e.forEach((function(e){var c=e.get("idCode"),n={id:e.id,idCode:c,firstName:e.get("firstName"),lastName:e.get("lastName"),CheckedIn:e.get("CheckedIn")};t[c]=n})),c()}),(function(e){e&&console.error(e)})),v(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(n.useEffect)((function(){var e;a&&"canceled"!==a&&(null===(e=m[a])||void 0===e?void 0:e.CheckedIn)||a&&"canceled"!==a&&void 0===m[a]?g():a&&"canceled"!==a&&(C(),N("Table 1").update([{id:m[a].id,fields:{CheckedIn:!0}}],(function(e,t){e&&console.error(e)})))}),[a]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("h1",{children:"Scan Barcode for access to the event."}),a?Object(x.jsxs)("div",{className:"new_scan",children:[Object(x.jsx)("span",{className:"box",children:"\xa0"}),Object(x.jsx)("button",{onClick:function(){return r("")},children:"New Scan"}),Object(x.jsx)("button",{style:{fontSize:"1rem"},onClick:function(){return D(!L)},children:L?"Cancel":"Search Database"})]}):Object(x.jsxs)("div",{className:"new_scan",children:[Object(x.jsx)("div",{className:"box holder",children:Object(x.jsx)(f.a,{width:400,height:400,onUpdate:function(e,t){t&&!a&&r(t.text)}})}),Object(x.jsx)("button",{onClick:function(){return r("canceled")},children:"Reset"})]}),"canceled"!==a&&(null===m||void 0===m?void 0:m[a])&&!(null===m||void 0===m||null===(e=m[a])||void 0===e?void 0:e.CheckedIn)&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"success",children:"SUCCESS"}),Object(x.jsxs)("h2",{children:[m[a].firstName," ",m[a].lastName," has been checked in."]}),Object(x.jsx)("p",{children:" Enjoy the event!"})]}),(null===(t=m[a])||void 0===t?void 0:t.CheckedIn)&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"error",children:"ERROR"}),Object(x.jsxs)("h2",{children:[m[a].firstName," ",m[a].lastName," has ALREADY been checked in..."]}),Object(x.jsx)("p",{children:"Please try another code"})]}),a&&void 0===m[a]&&"canceled"!==a&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"error",children:"ERROR"}),Object(x.jsxs)("h2",{children:[a," is not in the database."]}),Object(x.jsx)("p",{children:"Please try another code."})]}),Object(x.jsx)("section",{className:"codes",children:L&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"Search Database"}),w?Object(x.jsxs)("div",{children:["found"===w.found&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:[Object(x.jsxs)("strong",{children:[w.firstName," ",w.lastName,": "]}),"Found in database."]}),Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)("button",{className:"add",onClick:function(){return C(),void N("Table 1").update([{id:w.id,fields:{CheckedIn:!0}}],(function(e,t){e?console.error(e):E((function(e){return Object(i.a)(Object(i.a)({},e),{},{found:"success"})}))}))},children:"Check in manually?"}),Object(x.jsx)("button",{className:"clear",onClick:function(){return E("")},children:"Cancle"})]})]}),"not found"===w.found&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:[Object(x.jsxs)("strong",{children:[w.firstName," ",w.lastName,": "]}),"Not found in database."]}),Object(x.jsx)("button",{className:"clear",onClick:function(){return E("")},children:"Clear"})]})]}):Object(x.jsxs)(x.Fragment,{children:["success"===w.found&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"success",children:"SUCCESS"}),Object(x.jsxs)("h2",{children:[w.firstName," ",w.lastName," has been checked in."]}),Object(x.jsx)("p",{children:" Enjoy the event!"})]}),Object(x.jsxs)("form",{onSubmit:function(e){return function(e){for(var t in e.preventDefault(),m)if(m[t].firstName.toLowerCase().trim()===e.target.firstName.value.toLowerCase().trim()&&m[t].lastName.toLowerCase().trim()===e.target.lastName.value.toLowerCase().trim())return void E({found:"found",id:m[t].id,firstName:e.target.firstName.value,lastName:e.target.lastName.value});E({found:"not found",firstName:e.target.firstName.value,lastName:e.target.lastName.value})}(e)},ref:F,children:[Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(x.jsxs)("label",{htmlFor:"firstName",children:["First Name ",Object(x.jsx)("input",{id:"firstName"})]}),Object(x.jsxs)("label",{htmlFor:"lastName",children:["Last Name ",Object(x.jsx)("input",{id:"lastName"})]})]}),Object(x.jsx)("button",{className:"add",type:"submit",children:"Search"}),Object(x.jsx)("button",{className:"clear",onClick:function(){return F.current.reset()},children:"Clear Fields"})]})]})]})})]})};a.a.render(Object(x.jsx)(v,{}),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.d3e09f71.chunk.js.map