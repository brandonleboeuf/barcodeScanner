(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{149:function(e,t,c){},287:function(e,t){},288:function(e,t){},340:function(e,t,c){},342:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(142),a=c.n(s),i=(c(149),c(40)),r=c(27),d=c(28),l=c(82),o=c.p+"static/media/good_beep.1eda3a39.mp3",j=c.p+"static/media/error_beep.ea0f5342.mp3",b=c(143),h=c.n(b),u=c(144),O=c.n(u),f=(c(301),c(340),c(0)),m=new O.a({apiKey:"keyDtUz0w9A2YkaPl"}).base("appLIkbpURZaoR4qA");var x=function(){var e,t,c,s,a=Object(n.useState)("canceled"),b=Object(d.a)(a,2),u=b[0],O=b[1],x=Object(n.useState)({}),v=Object(d.a)(x,2),N=v[0],p=v[1],C=Object(l.a)(o),k=Object(d.a)(C,1)[0],g=Object(l.a)(j),S=Object(d.a)(g,1)[0],y=Object(n.useState)(),I=Object(d.a)(y,2),w=I[0],E=I[1],R=Object(n.useState)(!1),F=Object(d.a)(R,2),L=F[0],A=F[1],D=Object(n.useRef)(null),P=[];for(var U in N)P.push(U);return Object(n.useEffect)((function(){m("Table 1").select().eachPage((function(e,t){e.forEach((function(e){var t=e.get("idCode"),c={id:e.id,idCode:t,firstName:e.get("firstName"),lastName:e.get("lastName"),CheckedIn:e.get("CheckedIn")};p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(i.a)({},t,c))}))})),t()}),(function(e){e&&console.error(e)}))}),[]),Object(n.useEffect)((function(){var e;u&&"canceled"!==u&&(null===(e=N[u])||void 0===e?void 0:e.CheckedIn)||u&&"canceled"!==u&&void 0===N[u]?S():u&&"canceled"!==u&&(k(),m("Table 1").update([{id:N[u].id,fields:{CheckedIn:!0}}],(function(e,t){e&&console.error(e)})))}),[u]),console.log({manualCheckIn:w}),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"Scan Barcode for access to the event."}),u?Object(f.jsxs)("div",{className:"new_scan",children:[Object(f.jsx)("span",{className:"box ",children:"\xa0"}),Object(f.jsx)("button",{onClick:function(){return O(""),A(!L),void m("Table 1").select().eachPage((function(e,t){e.forEach((function(e){var t=e.get("idCode"),c={id:e.id,idCode:t,firstName:e.get("firstName"),lastName:e.get("lastName"),CheckedIn:e.get("CheckedIn")};p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(i.a)({},t,c))}))})),t()}),(function(e){e&&console.error(e)}))},children:"New Scan"}),Object(f.jsx)("button",{style:{fontSize:"1rem"},onClick:function(){return A(!L)},children:L?"Close Database Search":"Search Database"})]}):Object(f.jsxs)("div",{className:"new_scan ",children:[Object(f.jsx)("div",{className:"box holder",children:Object(f.jsx)(h.a,{width:400,height:400,onUpdate:function(e,t){t&&!u&&O(t.text)}})}),Object(f.jsx)("button",{onClick:function(){return O("canceled")},children:"Reset"})]}),"canceled"!==u&&(null===N||void 0===N?void 0:N[u])&&!(null===N||void 0===N||null===(e=N[u])||void 0===e?void 0:e.CheckedIn)&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"success",children:"SUCCESS"}),Object(f.jsxs)("h2",{children:[N[u].firstName," ",N[u].lastName," has been checked in."]}),Object(f.jsx)("p",{children:" Enjoy the event!"}),Object(f.jsx)("hr",{})]}),(null===(t=N[u])||void 0===t?void 0:t.CheckedIn)&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"error",children:"ERROR"}),Object(f.jsxs)("h2",{children:[N[u].firstName," ",N[u].lastName," has ALREADY been checked in..."]}),Object(f.jsx)("p",{children:"Please try another code"})]}),u&&void 0===N[u]&&"canceled"!==u&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"error",children:"ERROR"}),Object(f.jsxs)("h2",{children:[u," is not in the database."]}),Object(f.jsx)("p",{children:"Please try another code."})]}),Object(f.jsx)("section",{className:"codes",children:L&&Object(f.jsxs)("div",{className:"search_wrapper",children:[Object(f.jsx)("h2",{children:"Search Database"}),w&&Object(f.jsxs)("div",{children:["found"===(null===w||void 0===w?void 0:w.found)&&!(null===(c=N[u])||void 0===c?void 0:c.CheckedIn)&&Object(f.jsxs)("div",{className:"found",children:[Object(f.jsx)("hr",{}),Object(f.jsx)("h3",{children:"Found"}),Object(f.jsxs)("p",{children:[Object(f.jsxs)("strong",{children:[w.firstName," ",w.lastName,": "]}),"Found in database."]}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)("button",{className:"add",onClick:function(){return k(),void m("Table 1").update([{id:w.id,fields:{CheckedIn:!0}}],(function(e,t){e?console.error(e):E((function(e){return Object(r.a)(Object(r.a)({},e),{},{found:"success"})}))}))},children:"Check in manually?"}),Object(f.jsx)("button",{className:"clear",onClick:function(){return E("")},children:"Cancel"})]}),Object(f.jsx)("hr",{})]}),"found"===(null===w||void 0===w?void 0:w.found)&&(null===(s=N[u])||void 0===s?void 0:s.CheckedIn)&&Object(f.jsxs)("div",{className:"found",children:[Object(f.jsx)("hr",{}),Object(f.jsx)("h3",{children:"Already checked in."}),Object(f.jsxs)("p",{children:[Object(f.jsxs)("strong",{children:[w.firstName," ",w.lastName,": "]}),"Found in database, but already checked in."]}),Object(f.jsx)("div",{style:{display:"flex"},children:Object(f.jsx)("button",{className:"clear",onClick:function(){return E("")},children:"Close"})}),Object(f.jsx)("hr",{})]}),"not found"===(null===w||void 0===w?void 0:w.found)&&Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("strong",{children:[w.firstName," ",w.lastName,": "]}),"Not found in database."]}),Object(f.jsx)("button",{className:"clear",onClick:function(){return E("")},children:"Clear"})]}),"success"===(null===w||void 0===w?void 0:w.found)&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"success",children:"SUCCESS"}),Object(f.jsxs)("h2",{children:[w.firstName," ",w.lastName," has been checked in."]}),Object(f.jsx)("p",{children:" Enjoy the event!"}),Object(f.jsx)("hr",{})]})]}),Object(f.jsxs)("form",{onSubmit:function(e){return function(e){for(var t in e.preventDefault(),N)if(N[t].firstName.toLowerCase().trim()===e.target.firstName.value.toLowerCase().trim()&&N[t].lastName.toLowerCase().trim()===e.target.lastName.value.toLowerCase().trim())return O(t),void E({found:"found",id:N[t].id,firstName:e.target.firstName.value,lastName:e.target.lastName.value});E({found:"not found",firstName:e.target.firstName.value,lastName:e.target.lastName.value})}(e)},ref:D,children:[Object(f.jsxs)("div",{className:"form",children:[Object(f.jsx)("h4",{children:"Search for:"}),Object(f.jsxs)("label",{htmlFor:"firstName",children:["First Name ",Object(f.jsx)("input",{id:"firstName"})]}),Object(f.jsxs)("label",{htmlFor:"lastName",children:["Last Name ",Object(f.jsx)("input",{id:"lastName"})]})]}),Object(f.jsx)("button",{className:"add",type:"submit",children:"Search"})]}),Object(f.jsx)("button",{className:"clear",onClick:function(){return D.current.reset(),void E("")},children:"Clear Fields"})]})})]})};a.a.render(Object(f.jsx)(x,{}),document.getElementById("root"))}},[[342,1,2]]]);
//# sourceMappingURL=main.56b0ec3f.chunk.js.map