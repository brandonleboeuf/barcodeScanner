(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{150:function(e,t,c){},288:function(e,t){},289:function(e,t){},340:function(e,t,c){},342:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c(142),s=c.n(n),i=(c(150),c(55)),r=c(81),l=c(27),d=c(82),o=c.p+"static/media/good_beep.1eda3a39.mp3",j=c.p+"static/media/error_beep.ea0f5342.mp3",b=c(143),u=c.n(b),h=c(144),m=c.n(h),f=c(145),O=c.n(f),x=(c(340),c(0)),N=new m.a({apiKey:"keyDtUz0w9A2YkaPl"}).base("appLIkbpURZaoR4qA");var v=function(){var e,t,c=Object(a.useState)("canceled"),n=Object(l.a)(c,2),s=n[0],b=n[1],h=Object(a.useState)({}),m=Object(l.a)(h,2),f=m[0],v=m[1],p=Object(d.a)(o),C=Object(l.a)(p,1)[0],k=Object(d.a)(j),g=Object(l.a)(k,1)[0],y=Object(a.useState)(),S=Object(l.a)(y,2),w=S[0],R=S[1],E=Object(a.useState)(!1),I=Object(l.a)(E,2),L=I[0],D=I[1],A=Object(a.useRef)(null),F=[];for(var P in f)F.push(P);return Object(a.useEffect)((function(){N("Table 1").select().eachPage((function(e,t){e.forEach((function(e){var t=e.get("idCode"),c={id:e.id,idCode:t,firstName:e.get("firstName"),lastName:e.get("lastName"),CheckedIn:e.get("CheckedIn")};v((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(i.a)({},t,c))}))})),t()}),(function(e){e&&console.error(e)}))}),[s]),Object(a.useEffect)((function(){var e;s&&"canceled"!==s&&(null===(e=f[s])||void 0===e?void 0:e.CheckedIn)||s&&"canceled"!==s&&void 0===f[s]?g():s&&"canceled"!==s&&(C(),N("Table 1").update([{id:f[s].id,fields:{CheckedIn:!0}}],(function(e,t){e&&console.error(e)})))}),[s]),console.log(w),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("h1",{children:"Scan Barcode for access to the event."}),s?Object(x.jsxs)("div",{className:"new_scan",children:[Object(x.jsx)("span",{className:"box",children:"\xa0"}),Object(x.jsx)("button",{onClick:function(){return b("")},children:"New Scan"}),Object(x.jsx)("button",{style:{fontSize:"1rem"},onClick:function(){return D(!L)},children:L?"Cancel":"Search Database"})]}):Object(x.jsxs)("div",{className:"new_scan",children:[Object(x.jsx)("div",{className:"box holder",children:Object(x.jsx)(u.a,{width:400,height:400,onUpdate:function(e,t){t&&!s&&b(t.text)}})}),Object(x.jsx)("button",{onClick:function(){return b("canceled")},children:"Reset"})]}),"canceled"!==s&&(null===f||void 0===f?void 0:f[s])&&!(null===f||void 0===f||null===(e=f[s])||void 0===e?void 0:e.CheckedIn)&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"success",children:"SUCCESS"}),Object(x.jsxs)("h2",{children:[f[s].firstName," ",f[s].lastName," has been checked in."]}),Object(x.jsx)("p",{children:" Enjoy the event!"})]}),(null===(t=f[s])||void 0===t?void 0:t.CheckedIn)&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"error",children:"ERROR"}),Object(x.jsxs)("h2",{children:[f[s].firstName," ",f[s].lastName," has ALREADY been checked in..."]}),Object(x.jsx)("p",{children:"Please try another code"})]}),s&&void 0===f[s]&&"canceled"!==s&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"error",children:"ERROR"}),Object(x.jsxs)("h2",{children:[s," is not in the database."]}),Object(x.jsx)("p",{children:"Please try another code."})]}),Object(x.jsxs)("section",{className:"codes",children:[F.map((function(e){return Object(x.jsx)("div",{style:{marginBottom:"150px"},children:Object(x.jsx)(O.a,{id:e,value:e})})})),L&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"Search Database"}),w?Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:[Object(x.jsxs)("strong",{children:[w.firstName," ",w.lastName,": "]}),w.found?"Found":"Not found"," in database."]}),Object(x.jsxs)("div",{style:{display:"flex"},children:[w.found&&Object(x.jsx)("button",{className:"add",onClick:function(){return C(),void N("Table 1").update([{id:w.id,fields:{CheckedIn:!0}}],(function(e,t){e?console.error(e):(console.log(t),R(""))}))},children:"Check in manually?"}),Object(x.jsx)("button",{className:"clear",onClick:function(){return R("")},children:"Cancle"})]})]}):Object(x.jsxs)("form",{onSubmit:function(e){return function(e){for(var t in e.preventDefault(),f)if(f[t].firstName.toLowerCase().trim()===e.target.firstName.value.toLowerCase().trim()&&f[t].lastName.toLowerCase().trim()===e.target.lastName.value.toLowerCase().trim())return void R({found:!0,id:f[t].id,firstName:e.target.firstName.value,lastName:e.target.lastName.value});R({found:!1,firstName:e.target.firstName.value,lastName:e.target.lastName.value})}(e)},ref:A,children:[Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(x.jsxs)("label",{htmlFor:"firstName",children:["First Name ",Object(x.jsx)("input",{id:"firstName"})]}),Object(x.jsxs)("label",{htmlFor:"lastName",children:["Last Name ",Object(x.jsx)("input",{id:"lastName"})]})]}),Object(x.jsx)("button",{className:"add",type:"submit",children:"Search"}),Object(x.jsx)("button",{className:"clear",onClick:function(){return A.current.reset()},children:"Clear Fields"})]})]})]})]})};s.a.render(Object(x.jsx)(v,{}),document.getElementById("root"))}},[[342,1,2]]]);
//# sourceMappingURL=main.a27b0101.chunk.js.map